<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.demo.instruction.InstructionMapper">

    <!-- 사용할 DTO -->
    <resultMap id="instruction" type="com.example.demo.instruction.InstructionDTO">


        <!-- InstructionDTO 필드에 대한 매핑 -->
        <id property="no" column="no"/>
        <result property="id" column="id"/>
        <result property="processing" column="processing"/>
        <result property="confirmation" column="confirmation"/>
    

         <!-- OrderStockDTO 필드에 대한 매핑 -->
        <result property="reqQuan" column="reqQuan"/>
        <result property="respQuan" column="respQuan"/>
        <result property="reqDate" column="reqDate"/>
        <result property="respDate" column="respDate"/>
        <result property="orderStatus" column="orderStatus"/>
       

         <!-- ProdDTO 필드에 대한 매핑 -->
        <result property="prodNo" column="prodNo"/>
        <result property="brandCode" column="brandCode"/>
        <result property="prodName" column="prodName"/>
        <result property="incomePrice" column="incomePrice"/>
        <result property="sellPrice" column="sellPrice"/>
        <result property="size" column="size"/>
        <result property="storeName" column="storeName"/>
       

        <!-- CateDTO 필드에 대한 매핑 -->
        <result property="cateGroup" column="cateGroup"/>
        <result property="cateCode" column="cateCode"/>
        <result property="cateName" column="cateName"/>
     

        <!-- ColorDTO 필드에 대한 매핑 -->
        <result property="colorCode" column="colorCode"/>
        <result property="colorName" column="colorName"/>
     
       
    </resultMap>

    <!-- InstructionDTO에 대한 셀렉트 옵션 -->
    <select id="instructionGroupList" resultMap="instruction"> 
        SELECT DISTINCT no FROM instruction; 
    </select>

    <!-- OrderStockDTO에 대한 셀렉트 옵션 -->
    <select id="orderStockList" resultMap="instruction"> 
        SELECT DISTINCT reqQuan FROM orderStock; 
    </select>

    <!-- ProdDTO에 대한 셀렉트 옵션 -->
    <select id="prodList" resultMap="instruction"> 
        SELECT DISTINCT prodNo, prodName, colorCode, size, sellPrice FROM product; 
    </select>

    <!-- CateDTO에 대한 셀렉트 옵션 -->
    <select id="cateList" resultMap="instruction"> 
        SELECT DISTINCT cateGroup,cateCode,cateName FROM category; 
    </select>
    
    <!-- ColorDTO에 대한 셀렉트 옵션 -->
    <select id="colorList" resultMap="instruction"> 
        SELECT DISTINCT colorCode,colorName FROM color; 
    </select>

    <!--검색창-->
    <select id ="searchProdNo">
		SELECT * FROM instruction WHERE ProdNo LIKE CONCAT('%', #{ProdNo}, '%')
	</select>
    
</mapper>